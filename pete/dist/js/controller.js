"use strict";var maquette,controller={initController:function(){controller.maquetteFunct()},maquetteFunct:function(){var n,o,e=$(".image_size")[0],t=e.naturalWidth,i=e.naturalHeight;a();var u=!0;maquette=$(".maquette").ThreeSixty({totalFrames:61,endFrame:61,currentFrame:1,imgList:".threesixty_images",progress:".bluredImg",imagePath:"uploads/WALK/",filePrefix:"",ext:".jpg",height:o,width:n,navigation:!1,responsive:!1,disableSpin:!0,onReady:function(){controller.dropdownMenu(),controller.phostoSwipeFunct(),controller.fullScreenFunct(),controller.removeHoverOnMobile(),function(e){var t=new Hammer(e,{});t.get("pinch").set({enable:!0}),t.on("doubletap pinch pinchend pinchstart pinchin pinchout",function(e){({pinchin:function(){m(1.2)},pinchout:function(){d(1.2)},pinchstart:function(){maquette.getConfig().ticker=1,maquette.getConfig().drag=!1},pinchend:function(){setTimeout(function(){maquette.getConfig().ticker=0,maquette.getConfig().drag=!0},1e3)},doubletap:function(){u=u?(m(3),!1):(d(3),!0),l()}})[e.type]()})}($(".threesixty")[0])}}),$(".maq-change").click(function(e){u=!0,a();var t=$(e.target).attr("data-maquette");$(".loader")[0].style.display="block",maquette=$(".maquette").ThreeSixty({totalFrames:61,endFrame:61,currentFrame:1,imgList:".threesixty_images",progress:".loader",imagePath:"uploads/".concat(t,"/"),filePrefix:"",ext:".jpg",height:o,width:n,navigation:!1,responsive:!1,disableSpin:!0}),$(".maq-change").removeClass("active"),$("a[data-maquette ="+t+"]").addClass("active")});var c=o,r=n;function a(){n=$(".container-360").width(),o=n*i/t,$(".container-360").height()<o&&(o=$(".container-360").height(),n=o*t/i),$(".maquette,.maquette img").height(o),$(".maquette,.maquette img").width(n)}function l(){var e=($(".maquette img").height()-$(".container-360").height())/2+60,t=($(".maquette img").width()-$(".container-360").width())/2;$("html,body").animate({scrollTop:e,scrollLeft:t},0)}function m(e){o=$(".maquette img").height()*e,n=$(".maquette img").width()*e,3*c<o&&(o=3*c,n=3*r),$(".maquette,.maquette img").height(o),$(".maquette,.maquette img").width(n)}function d(e){o=$(".maquette img").height()/e,n=$(".maquette img").width()/e,o<c&&(o=c,n=r),$(".maquette,.maquette img").height(o),$(".maquette,.maquette img").width(n)}$(window).resize(function(){return a()}),$(".custom_play").bind("click",function(){return maquette.play()}),$(".custom_stop").bind("click",function(){return maquette.stop()}),$(".custom_zoomp").on("click",function(){return m(1.2)}),$(".custom_zoomm").on("click",function(){return d(1.2)}),$(".custom_zoomp,.custom_zoomm").on("click",function(){return l()}),$(".threesixty").on("wheel",function(e){e.preventDefault(),e.originalEvent.deltaY<0?m(1.2):d(1.2),l()})},phostoSwipeFunct:function(){document.getElementById("openGalery1").addEventListener("click",function(){var e=document.querySelectorAll(".pswp")[0],t=new PhotoSwipe(e,PhotoSwipeUI_Default,[{src:"/uploads/galerie/images/r2.jpg",w:1800,h:1200},{src:"/uploads/galerie/images/r1.jpg",w:1800,h:1200},{src:"/uploads/galerie/images/interior.jpg",w:1800,h:1200}],{history:!1,focus:!1,showAnimationDuration:0,hideAnimationDuration:0,getDoubleTapZoom:function(e,t){return e?3:t.initialZoomLevel<.7?4:1.33},maxSpreadZoom:3});t.init(),t.invalidateCurrItems(),t.updateSize(!0)})},fullScreenFunct:function(){document.querySelector(".full-screen-btn").addEventListener("click",function(){document.fullScreenElement&&null!==document.fullScreenElement||!document.mozFullScreen&&!document.webkitIsFullScreen?document.documentElement.requestFullScreen?document.documentElement.requestFullScreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullScreen&&document.documentElement.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen()})},dropdownMenu:function(){document.querySelector(".btn-showMore").addEventListener("click",function(e){var t=e.currentTarget.parentElement;t.classList.contains("active-dropdown")?t.classList.remove("active-dropdown"):t.classList.add("active-dropdown")})},removeHoverOnMobile:function(){if(window.innerWidth<=1001){if("ontouchstart"in document.documentElement||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints)try{for(var e in document.styleSheets){var t=document.styleSheets[e];if(t.rules)for(var n=t.rules.length-1;0<=n;n--)t.rules[n].selectorText&&t.rules[n].selectorText.match(":hover")&&t.deleteRule(n)}}catch(e){}}}};document.addEventListener("DOMContentLoaded",function(){return controller.initController()});