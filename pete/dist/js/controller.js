"use strict";var maquette,controller={initController:function(){controller.maquetteFunct()},maquetteFunct:function(){var e=$(".image_size")[0],i=e.naturalWidth,n=e.naturalHeight,o=$(".container-360").width(),m=o*n/i;$(".container-360").height()<m&&(m=$(".container-360").height(),o=m*i/n);var a=!0;maquette=$(".maquette").ThreeSixty({totalFrames:61,endFrame:61,currentFrame:1,imgList:".threesixty_images",progress:".bluredImg",imagePath:"uploads/WALK/",filePrefix:"",ext:".jpg",height:m,width:o,navigation:!1,responsive:!1,disableSpin:!0,onReady:function(){controller.dropdownMenu(),controller.phostoSwipeFunct(),controller.fullScreenFunct(),controller.removeHoverOnMobile(),controller.hammerFunct($(".threesixty")[0],o,m,c,u,a)}}),$(".maq-change").click(function(e){a=!0,o=$(".container-360").width(),m=o*n/i,$(".container-360").height()<m&&(m=$(window).height(),o=m*i/n),$(".maquette,.maquette img").height(m),$(".maquette,.maquette img").width(o);var t=$(e.target).attr("data-maquette");$(".loader")[0].style.display="block",maquette=$(".maquette").ThreeSixty({totalFrames:61,endFrame:61,currentFrame:1,imgList:".threesixty_images",progress:".loader",imagePath:"uploads/".concat(t,"/"),filePrefix:"",ext:".jpg",height:m,width:o,navigation:!1,responsive:!1,disableSpin:!0}),$(".maq-change").removeClass("active"),$("a[data-maquette ="+t+"]").addClass("active")}),$(".custom_play").bind("click",function(){maquette.play()}),$(".custom_stop").bind("click",function(){maquette.stop()}),$(".container-360").height()<m&&(m=$(".container-360").height(),o=m*i/n);var u=m,c=o;$(window).resize(function(){o=$(".container-360").width(),m=o*n/i,$(".container-360").height()<m&&(m=$(window).height(),o=m*i/n),$(".maquette,.maquette img").height(m),$(".maquette,.maquette img").width(o)}),$(".custom_zoomp").on("click",function(){m=1.2*$(".maquette img").height(),o=1.2*$(".maquette img").width(),3*u<m&&(m=3*u,o=3*c),$(".maquette,.maquette img").height(m),$(".maquette,.maquette img").width(o)}),$(".custom_zoomm").on("click",function(){m=$(".maquette img").height()/1.2,o=$(".maquette img").width()/1.2,m<u&&(m=u,o=c),$(".maquette,.maquette img").height(m),$(".maquette,.maquette img").width(o)}),$(".custom_zoomp,.custom_zoomm").on("click",function(){var e=($(".maquette img").height()-$(".container-360").height())/2+60,t=($(".maquette img").width()-$(".container-360").width())/2;$("html,body").animate({scrollTop:e,scrollLeft:t},0)});$(".threesixty").on("wheel",function(e){if(e.preventDefault(),e.originalEvent.deltaY<0){m=1.2*$(".maquette img").height(),o=1.2*$(".maquette img").width(),3*u<m&&(m=3*u,o=3*c),$(".maquette,.maquette img").height(m),$(".maquette,.maquette img").width(o);var t=($(".maquette img").height()-$(".container-360").height())/2+60,i=($(".maquette img").width()-$(".container-360").width())/2;$("html,body").animate({scrollTop:t,scrollLeft:i},0)}else{m=$(".maquette img").height()/1.2,o=$(".maquette img").width()/1.2,m<u&&(m=u,o=c),$(".maquette,.maquette img").height(m),$(".maquette,.maquette img").width(o);var n=($(".maquette img").height()-$(".container-360").height())/2+60,a=($(".maquette img").width()-$(".container-360").width())/2;$("html,body").animate({scrollTop:n,scrollLeft:a},0)}})},hammerFunct:function(e,i,n,a,o,m){var t=new Hammer(e,{});t.get("pinch").set({enable:!0}),t.on("doubletap pinch pinchend pinchstart pinchin pinchout",function(e){({pinchin:function(){n=1.2*$(".maquette img").height(),i=1.2*$(".maquette img").width(),3*o<n&&(n=3*o,i=3*a),$(".maquette,.maquette img").height(n),$(".maquette,.maquette img").width(i)},pinchout:function(){n=$(".maquette img").height()/1.2,i=$(".maquette img").width()/1.2,n<o&&(n=o,i=a),$(".maquette,.maquette img").height(n),$(".maquette,.maquette img").width(i)},pinchstart:function(){maquette.getConfig().ticker=1,maquette.getConfig().drag=!1},pinchend:function(){setTimeout(function(){maquette.getConfig().ticker=0,maquette.getConfig().drag=!0},1e3)},doubletap:function(){m=m?(n=3*$(".maquette img").height(),i=3*$(".maquette img").width(),3*o<n&&(n=3*o,i=3*a),$(".maquette,.maquette img").height(n),$(".maquette,.maquette img").width(i),!1):(n=$(".maquette img").height()/3,i=$(".maquette img").width()/3,o<n&&(n=o,i=a),$(".maquette,.maquette img").height(n),$(".maquette,.maquette img").width(i),!0);var e=($(".maquette img").height()-$(".container-360").height())/2+60,t=($(".maquette img").width()-$(".container-360").width())/2;$("html,body").animate({scrollTop:e,scrollLeft:t},0)}})[e.type]()})},phostoSwipeFunct:function(){document.getElementById("openGalery1").addEventListener("click",function(){var e=document.querySelectorAll(".pswp")[0],t=new PhotoSwipe(e,PhotoSwipeUI_Default,[{src:"/uploads/galerie/images/r2.jpg",w:1800,h:1200},{src:"/uploads/galerie/images/r1.jpg",w:1800,h:1200},{src:"/uploads/galerie/images/interior.jpg",w:1800,h:1200}],{history:!1,focus:!1,showAnimationDuration:0,hideAnimationDuration:0,getDoubleTapZoom:function(e,t){return e?3:t.initialZoomLevel<.7?4:1.33},maxSpreadZoom:3});t.init(),t.invalidateCurrItems(),t.updateSize(!0)})},fullScreenFunct:function(){document.querySelector(".full-screen-btn").addEventListener("click",function(){document.fullScreenElement&&null!==document.fullScreenElement||!document.mozFullScreen&&!document.webkitIsFullScreen?document.documentElement.requestFullScreen?document.documentElement.requestFullScreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullScreen&&document.documentElement.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen()})},dropdownMenu:function(){document.querySelector(".btn-showMore").addEventListener("click",function(e){var t=e.currentTarget.parentElement;t.classList.contains("active-dropdown")?t.classList.remove("active-dropdown"):t.classList.add("active-dropdown")})},removeHoverOnMobile:function(){if(window.innerWidth<=1001){if("ontouchstart"in document.documentElement||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints)try{for(var e in document.styleSheets){var t=document.styleSheets[e];if(t.rules)for(var i=t.rules.length-1;0<=i;i--)t.rules[i].selectorText&&t.rules[i].selectorText.match(":hover")&&t.deleteRule(i)}}catch(e){}}}};document.addEventListener("DOMContentLoaded",function(){return controller.initController()});